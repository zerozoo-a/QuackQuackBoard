(self.webpackChunktest_2=self.webpackChunktest_2||[]).push([[626],{7626:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>j});var r,o=t(7329),a=t(2137),l=t(4699),i=t(2465),c=t(7757),m=t.n(c),u=t(7294),d=t(9833),s=t(8117),h=t(5373),p=t(4628),f=t(2302),E=t(3750),g=t(9613),v=t(8222),b=t(6847),Z=t(7394),k=s.ZP.div(r||(r=(0,i.Z)(["\n  background-color: ",";\n  width: 8rem;\n  height: 8rem;\n  opacity: 0.1;\n  transition: opacity 0.12s ease-in-out;\n"])),(function(e){return e.theme.colors.grey500}));function y(){return u.createElement(k,null)}var C,w,x,N,U=t(9226),S=t(1948),L=t(1238),R=s.ZP.div(C||(C=(0,i.Z)(["\n  * ::before,\n  *,\n  * ::after {\n    border: none;\n    color: ",";\n  }\n\n  #headMyProfile {\n    border: none;\n  }\n  #bodyRow * {\n    color: ",";\n  }\n  #myNickName {\n    border-bottom: 1px solid\n      ",";\n  }\n  #editNickNameWrapper {\n    border-bottom: 1px solid\n      ",";\n\n    #nickNameInputSet {\n      white-space: nowrap;\n      #inputNickName {\n        height: 2rem;\n        border: 2px solid ",";\n        border-radius: 4px;\n        margin-right: 1rem;\n        width: 30vw;\n      }\n    }\n  }\n\n  @media screen and (max-width: ",") {\n    #bodyRow {\n      display: flex;\n      flex-direction: column;\n      #nickNameInputSet {\n        border-top: none;\n      }\n    }\n  }\n"])),(function(e){return"dark"===e.mode?e.theme.colors.darkColor:e.theme.colors.lightColor}),(function(e){return"dark"===e.mode?e.theme.colors.darkColor:e.theme.colors.lightColor}),(function(e){return"dark"===e.mode?e.theme.colors.darkBorderColor:e.theme.colors.lightBorderColor}),(function(e){return"dark"===e.mode?e.theme.colors.darkBorderColor:e.theme.colors.lightBorderColor}),(function(e){return e.theme.colors.pointColor}),(function(e){return e.theme.deviceSizes.mobileL})),I=s.ZP.button(w||(w=(0,i.Z)(["\n  color: ",";\n  background-color: ",";\n  border: 2px solid ",";\n  border-radius: ",";\n  height: 2rem;\n  cursor: pointer;\n  padding: ",";\n"])),(function(e){return"dark"===e.mode?e.theme.colors.darkColor:e.theme.colors.lightColor}),(function(e){return e.theme.button.submitBackgroundColor}),(function(e){return e.theme.button.submitBorderColor}),(function(e){return e.theme.button.borderRadius}),(function(e){return e.theme.button.padding})),P=u.memo((function(){var e=d.ON.currentUser,n=(0,u.useState)(e.displayName),t=(0,l.Z)(n,2),r=t[0],o=t[1],i=(0,U.v9)(S.gh),c=u.useCallback((function(e){o(e.target.value)}),[r]),s=function(){var n=(0,a.Z)(m().mark((function n(t){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.displayName===r){n.next=5;break}return n.next=4,e.updateProfile({displayName:r});case 4:o("");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return u.createElement(R,{mode:i},u.createElement(b.Z,null,u.createElement(f.Z,{className:"myInfo","aria-label":"myInfo"},u.createElement(E.Z,null,u.createElement(Z.Z,null,u.createElement(v.Z,{id:"headMyProfile"},u.createElement("h3",null,"내 정보 편집하기")))),u.createElement(g.Z,null,u.createElement(Z.Z,{id:"bodyRow"},u.createElement(v.Z,{id:"myNickName",key:e.displayName},"내 별명: ",u.createElement("b",null,e.displayName)),u.createElement(v.Z,{id:"editNickNameWrapper"},u.createElement("form",{onSubmit:s},u.createElement("div",{id:"nickNameInputSet"},u.createElement("input",{value:r,onChange:c,type:"text",maxLength:"20",required:!0,id:"inputNickName"}),u.createElement(I,{mode:i,type:"submit",id:"submit",name:"submit"},"변경하기")))))))))})),B=s.ZP.div(x||(x=(0,i.Z)(["\n  min-width: ",";\n  #changeImageButton {\n    border: 1px solid\n      ",";\n  }\n  #myPhotoURL {\n    color: ",";\n    border: none;\n  }\n  img {\n    width: 7rem;\n  }\n  .imageContainerCell {\n    border: none;\n    border-bottom: 1px solid ",";\n  }\n  #userImage {\n    min-width: 20vw;\n  }\n\n  @media screen and (max-width: ",") {\n    #userImage {\n      width: 10vw;\n    }\n  }\n"])),(function(e){return e.theme.deviceSizes.mobileL}),(function(e){return"dark"===e.mode?e.theme.colors.darkBorderColor:e.theme.colors.lightBorderColor}),(function(e){return"dark"===e.mode?e.theme.colors.darkColor:e.theme.colors.lightColor}),(function(e){return e.theme.colors.darkBorderColor}),(function(e){return e.theme.deviceSizes.mobileL})),z=s.ZP.div(N||(N=(0,i.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: ",";\n  color: ",";\n  box-shadow: 6px 2px 2px rgba(13, 24, 25, 0.5);\n  padding: 2rem;\n  img {\n    width: 5rem;\n  }\n  #images {\n    display: flex;\n    align-items: center;\n    margin: 1rem;\n  }\n  #pingerTip {\n    font-size: 200%;\n    margin: 1rem;\n  }\n\n  @media screen and (max-width: ",") {\n    left: 37%;\n\n    h2 {\n      font-size: 1.2rem;\n    }\n  }\n"])),(function(e){return"dark"===e.mode?e.theme.colors.darkBackgroundColor:e.theme.colors.lightBackgroundColor}),(function(e){return"dark"===e.mode?e.theme.colors.darkColor:e.theme.colors.lightColor}),(function(e){return e.theme.deviceSizes.mobileL})),O=u.memo((function(){var e=d.ON.currentUser,n=(0,u.useState)(!1),t=(0,l.Z)(n,2),r=t[0],o=t[1],i="user image",c=(0,U.v9)(S.gh),s=(0,U.v9)(L.q5),k=(0,U.I0)(),C=d.ON.currentUser.photoURL,w=function(){o(!1)},x=function(){var e=(0,a.Z)(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,d.ON.currentUser.updateProfile({photoURL:s});case 3:k((0,L.jb)(null)),w();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N=u.createElement(z,{mode:c},u.createElement("h2",{id:"simple-modal-title"},"이미지로 자신을 나타내보세요!"),u.createElement("div",{id:"images"},u.createElement("img",{alt:i,src:e.photoURL}),u.createElement("span",{id:"pingerTip"},"👉"),!s&&u.createElement(y,null),s&&u.createElement("img",{alt:i,src:s})),u.createElement("form",{onSubmit:x},u.createElement("div",null,u.createElement(h.Z,null),u.createElement(I,{mode:c,type:"submit",id:"changeUserImage"},"변경하기"))));return u.createElement(B,{mode:c},u.createElement(b.Z,null,u.createElement(f.Z,null,u.createElement(E.Z,null,u.createElement(Z.Z,null,u.createElement(v.Z,{id:"myPhotoURL"},u.createElement("h3",null,"내 대표 이미지")))),u.createElement(g.Z,null,u.createElement(Z.Z,null,u.createElement(v.Z,{id:"userImage",className:"imageContainerCell"},u.createElement("img",{alt:d.ON.currentUser.uid,src:C})),u.createElement(v.Z,{className:"imageContainerCell"},u.createElement(I,{mode:c,type:"button",onClick:function(){o(!0)}},"이미지 변경하기"),u.createElement(p.Z,{id:"modal",open:r,onClose:w,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},N)))))))}));const T=u.memo((function(){return u.createElement(u.Fragment,null,u.createElement(P,null),u.createElement(O,null))}));var A,D,F=t(9989),M=s.ZP.div(A||(A=(0,i.Z)(["\n  display: grid;\n  place-items: center;\n  * {\n    color: ",";\n  }\n\n  #profileTitleStyle {\n    h1 {\n      color: ",";\n      display: grid;\n      place-items: center;\n      width: 50vw;\n    }\n  }\n  #profileYourThreads {\n    * {\n      border: none;\n    }\n  }\n  @media screen and (max-width: ",") {\n  }\n"])),(function(e){return"dark"===e.mode?e.theme.colors.darkColor:e.theme.colors.lightColor}),(function(e){return e.theme.colors.pointColor}),(function(e){return e.theme.deviceSizes.mobileM})),_=s.ZP.div(D||(D=(0,i.Z)(["\n  & > * {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  li {\n    margin: 0 0 3rem 0;\n    img {\n      width: 8rem;\n    }\n  }\n"])));const j=function(){var e=d.ON.currentUser,n=(0,u.useState)([]),t=(0,l.Z)(n,2),r=t[0],i=t[1],c=(0,u.useState)(!1),s=(0,l.Z)(c,2),h=s[0],p=s[1],k=(0,U.v9)(S.gh),y=function(){var n=(0,a.Z)(m().mark((function n(){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.ub.collection("Thread").where("uid","==",e.uid).orderBy("createdAt").get().then((function(e){return e.docs.map((function(e){return i((function(n){return[].concat((0,o.Z)(n),[{user:e.data().user,data:e.data().data,imageURL:e.data().imageURL,createdAt:e.data().createdAt}])}))}))}));case 2:n.sent;case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,u.useEffect)((function(){y(),p(!0)}),[]);var C={active:{x:0},inactive:{x:55,transition:{duration:1.8}}};return u.createElement(M,{mode:k},u.createElement(F.E.div,{initial:{opacity:.2},animate:{opacity:1},transition:{duration:.4}},u.createElement("div",{id:"profileTitleStyle"},u.createElement("h1",null,"내 정보"),u.createElement(T,null)),u.createElement("div",{id:"profileYourThreads"},u.createElement(b.Z,null,u.createElement(f.Z,null,u.createElement(E.Z,null,u.createElement(Z.Z,null,u.createElement(v.Z,null,u.createElement(F.E.div,{variants:C,initial:"inactive",animate:"active"},u.createElement("h3",null,"내 게시글 모아보기"))))),u.createElement(g.Z,null,h&&u.createElement(Z.Z,null,u.createElement(v.Z,null,u.createElement(_,null,u.createElement("ul",null,r.map((function(e,n){return u.createElement(F.E.div,{key:n+e.user,variants:C,initial:"inactive",animate:"active"},u.createElement("li",null,u.createElement("img",{src:e.imageURL}),u.createElement("div",null,e.data),u.createElement("div",null,e.createdAt)))}))))))))))))}},5373:(e,n,t)=>{"use strict";t.d(n,{Z:()=>v});var r,o=t(2137),a=t(2465),l=t(7757),i=t.n(l),c=t(7294),m=t(9848),u=t(7812),d=t(9833),s=t(5877),h=t(8117),p=t(9226),f=t(1238),E=t(1948),g=h.ZP.div(r||(r=(0,a.Z)(["\n  #HideInput {\n    display: none;\n  }\n  #icon {\n    color: ",";\n  }\n"])),(function(e){return"dark"===e.mode?e.theme.colors.darkColor:e.theme.colors.lightColor}));const v=c.memo((function(){var e=d.ON.currentUser,n=(0,p.I0)(),t=(0,p.v9)(E.gh);return c.createElement(g,{mode:t},c.createElement("div",null,c.createElement("div",{id:"HideInput"},c.createElement("input",{id:"imageUpload",type:"file",onChange:function(t){var r,a;t.preventDefault(),r=t.target.files[0],(a=new FileReader).readAsDataURL(r),a.onloadend=function(){var t=(0,o.Z)(i().mark((function t(r){var o,a,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.target.result,a=d.hr.ref().child("images/".concat(e.uid,"/").concat((0,s.v4)())),t.next=4,a.putString(o,"data_url");case 4:return l=t.sent,t.next=7,l.ref.getDownloadURL();case 7:c=t.sent,n((0,f.jb)(c));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},accept:"image/*"})),c.createElement("label",{htmlFor:"imageUpload"},c.createElement(u.Z,{id:"icon",component:"div"},c.createElement(m.Z,null)))))}))}}]);